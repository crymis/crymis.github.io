<!DOCTYPE html>
<html>
<head>
    <title>Daniel Eckelt</title>
</head>
<body>
    <style type="text/css" media="screen">
        html, body {
            height: 100%;
            margin: 0;
        }

        .grid {
            height: 100%;
            min-height: 100%;
            min-width: 100%;
            display: grid;
            grid-template-rows: 25% 50% 25%;
            grid-template-columns: 15% 70% 15%;
            justify-items: center;
        }

        #header {
            font-size: 2.25rem;
            color: #B2B2B2;
            font-family: 'Helvetica', 'Arial', 'sans-serif';
            text-align: center;
            align-self: center;
            grid-column: 2 / 3;
            grid-row: 2 / 3;
        }
        #header > p {
            font-size: 0.4em;
        }

        .var-highlight{
            color: #C0AD60;
        }
        .string-highlight{
            color: rgba(253, 149, 90, 0.8);
        }

        #typewriter{
                font-size: 1em;
                margin: 0;
                font-family: "Courier New";

                &:after{
                    content: "|";
                    animation: blink 500ms linear infinite alternate;
                }
        }

        @-webkit-keyframes blink{
            0%{opacity: 0;}
            100%{opacity: 1;}
        }

        @-moz-keyframes blink{
            0%{opacity: 0;}
            100%{opacity: 1;}
        }

        @keyframes blink{
            0%{opacity: 0;}
            100%{opacity: 1;}
        }
    </style>


    <div class="grid">
        <header id="header">
            <div>Daniel Eckelt</div>
            <p>Frontend Developer - Design Enthusiast - Usability Engineer</p>

            <pre id="typewriter">
                <span class="var-highlight">var</span> object = {
                    name: <span class="string-highlight">'Foo'</span>,
                    type: <span class="string-highlight">'Bar'</span>,
                    location: <span class="string-highlight">'Earth'</span>,
                    properties:[<span class="string-highlight">'Javascript'</span>,
                                <span class="string-highlight">'HTML'</span>,
                                <span class="string-highlight">'CSS'</span>];
                }; 
            </pre>
        </header>
    </div>

    <script>
            function setupTypewriter(t) {
            var HTML = t.innerHTML;

            t.innerHTML = "";

            var cursorPosition = 0,
                tag = "",
                writingTag = false,
                tagOpen = false,
                typeSpeed = 100,
            tempTypeSpeed = 0;

            var type = function() {
            
                if (writingTag === true) {
                    tag += HTML[cursorPosition];
                }

                if (HTML[cursorPosition] === "<") {
                    tempTypeSpeed = 0;
                    if (tagOpen) {
                        tagOpen = false;
                        writingTag = true;
                    } else {
                        tag = "";
                        tagOpen = true;
                        writingTag = true;
                        tag += HTML[cursorPosition];
                    }
                }
                if (!writingTag && tagOpen) {
                    tag.innerHTML += HTML[cursorPosition];
                }
                if (!writingTag && !tagOpen) {
                    if (HTML[cursorPosition] === " ") {
                        tempTypeSpeed = 0;
                    }
                    else {
                        tempTypeSpeed = (Math.random() * typeSpeed) + 50;
                    }
                    t.innerHTML += HTML[cursorPosition];
                }
                if (writingTag === true && HTML[cursorPosition] === ">") {
                    tempTypeSpeed = (Math.random() * typeSpeed) + 50;
                    writingTag = false;
                    if (tagOpen) {
                        var newSpan = document.createElement("span");
                        t.appendChild(newSpan);
                        newSpan.innerHTML = tag;
                        tag = newSpan.firstChild;
                    }
                }

                cursorPosition += 1;
                if (cursorPosition < HTML.length - 1) {
                    setTimeout(type, tempTypeSpeed);
                }

            };

            return {
                type: type
            };
        }

        var typer = document.getElementById('typewriter');

        typewriter = setupTypewriter(typewriter);

        typewriter.type();
    </script>
</body>
</html>
